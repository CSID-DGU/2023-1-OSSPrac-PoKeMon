<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        function deleteRow() {
            var table = document.getElementById("myTable");
            var checkBoxes = table.getElementsByTagName("input");
            var checkedBoxes = [];
            for (var i = 0; i < checkBoxes.length; i++) {
                if (checkBoxes[i].type == "checkbox" && checkBoxes[i].checked == true) {
                    checkedBoxes.push(checkBoxes[i].value);
                }
            }
            document.getElementById("studentNumber").value = checkedBoxes.join();
            document.getElementById("delete-form").submit();
        }
    </script>
</head>
<body>
    <form id="delete-form" method="POST" action="/delete">
        <table border="1" id="myTable">
            <thead>
                <tr>
                    <th>이름</th>
                    <th>학번</th>
                    <th>전공</th>
                    <th>이메일</th>
                    <th>성별</th>
                    <th>프로그래밍 언어</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for student in result %}
                <tr>
                    <td>{{ student["name"] }}</td>
                    <td>{{ student["studentNumber"] }}</td>
                    <td>{{ student["major"] }}</td>
                    <td>{{ student["email"] }}</td>
                    <td>{{ student["gender"] }}</td>
                    <td>{{ student["language"] }}</td>
                    <td><input type="checkbox" value="{{ student['studentNumber'] }}" name="studentNumber"></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
            <button type="button" onclick="deleteRow()">Delete Row</button>
    </form>
    <form method="POST" action="/add">
        <button type="submit">Add Row</button>
    </form>
    <form method="POST" action="/reset">
        <button type="submit">Home</button>
    </form>
    <input type="hidden" id="studentNumber" name="studentNumber">
</body>
</html>
